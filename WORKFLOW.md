# 干细胞分化数据处理工作流程

## 📋 功能概述

本系统实现了一个完整的4步工作流程，用于处理和分析干细胞分化相关的学术论文数据。

## 🎯 工作流程

### 步骤1: 信息源查询

**功能描述：**

-   提供三个查询条件：
    -   信息源名称（文本输入）
    -   权重（数字输入）
    -   信息类型（下拉选择：学术论文、专利、技术报告、新闻资讯、博客文章）
-   点击"查询"按钮后显示加载状态
-   模拟 20-30 秒的数据抓取过程

**操作指引：**

1. 输入查询条件（可选）
2. 点击"查询"按钮
3. 等待数据抓取完成

---

### 步骤2: 抓取结果列表

**功能描述：**

-   显示抓取到的论文数据列表
-   表格列包括：
    -   信息源编号
    -   信息源类型（PDF）
    -   发表时间（年份 + 期刊）
    -   引用次数
    -   置信度（进度条显示）
    -   摘要（引用信息）
    -   操作列（详情、处理）

**操作指引：**

-   点击 👁️ 图标：查看论文详细信息
-   点击 ⚙️ 图标：进入模型训练（步骤3）
-   点击"返回查询"：返回步骤1

**数据来源：**

-   使用 `src/views/componets/mock.ts` 中的16条真实学术论文数据
-   包含完整的分化参数、时间线、化合物等信息

---

### 步骤3: 模型训练与参数微调

**功能描述：**

#### 3.1 训练阶段（20-30秒）

显示实时训练进度，包括：

-   总体进度条
-   当前训练阶段名称
-   预计剩余时间
-   5个训练步骤的时间线展示：
    1. 数据预处理 - 解析和清洗论文数据
    2. 特征提取 - 提取关键分化参数和化合物信息
    3. 模型构建 - 基于深度学习构建分化预测模型
    4. 参数优化 - 自动调整和优化模型参数
    5. 验证测试 - 验证模型准确性和稳定性

#### 3.2 参数微调表单

训练完成后，显示 `DataForm` 组件，提供：

-   发表年份滑块（1990-2025）
-   期刊选择（自动完成输入）
-   细胞来源（组合框，支持自定义）
-   分化阶段时间线编辑器
    -   可视化阶段管理
    -   拖动滑块调整起止天数
    -   添加/删除阶段
    -   阶段描述编辑
-   阶段特异性化合物
    -   常用化合物快速添加
    -   化合物分类展示
-   效率评估指标输入
-   DOI 输入
-   引用信息输入

**操作指引：**

1. 等待模型训练完成（观察训练进度）
2. 根据需要调整分化参数
3. 点击"生成可视化模型"进入步骤4
4. 或点击"返回列表"返回步骤2

---

### 步骤4: 模型可视化

**功能描述：**

展示两个可视化组件：

#### 4.1 分化时间线可视化 (`PixiModel`)

-   使用 D3.js 绘制干细胞分化过程
-   显示各个阶段的时间跨度
-   细胞节点动画效果
-   阶段间的连接线
-   交互式鼠标悬停效果

#### 4.2 化合物作用网络 (`CompoundNetwork`)

-   使用 D3.js 力导向图展示化合物关系
-   节点代表干细胞、化合物和目标细胞
-   连接线显示作用路径
-   可拖拽节点调整布局
-   细胞节点脉冲动画

#### 4.3 参数总结卡片

显示最终确定的分化参数：

-   发表年份
-   期刊名称
-   细胞来源
-   DOI（可点击链接）

**操作指引：**

-   查看可视化模型
-   点击"导出结果"：下载JSON格式的参数文件
-   点击"返回调参"：返回步骤3继续调整参数

---

## 📁 项目结构

```
src/views/componets/
├── table.vue                          # 主工作流程页面
├── mock.ts                            # 模拟数据（16条论文数据）
└── components/
    ├── DataForm.vue                   # 参数微调表单组件
    ├── PixiModel.vue                  # 分化时间线可视化组件
    └── CompoundNetwork.vue            # 化合物网络可视化组件
```

## 🎨 技术栈

-   **Vue 3** - 组合式API
-   **Vuetify 3** - Material Design UI组件库
-   **D3.js** - 数据可视化
-   **TypeScript** - 类型安全

## 🚀 使用说明

1. 启动开发服务器：

```bash
npm run dev
```

2. 访问页面：

```
http://localhost:5173/#/components/table
```

3. 按照4个步骤依次操作即可完成完整的工作流程

## 📊 数据说明

模拟数据包含16篇干细胞分化相关的高质量学术论文，涵盖：

-   Nature Biotechnology
-   STEM CELLS
-   Nature Communications
-   Cell Stem Cell
-   PLoS Biology
    等知名期刊

每条数据包含：

-   文件名
-   发表年份
-   期刊名称
-   细胞来源
-   分化时间线
-   阶段特异性化合物
-   效率评估指标
-   DOI
-   引用信息

## ✨ 特色功能

1. **真实的加载体验**：模拟真实的数据抓取和模型训练过程
2. **可视化编辑器**：直观的分化阶段时间线编辑
3. **D3交互式可视化**：动态、美观的数据展示
4. **完整的工作流**：从数据抓取到参数调整再到可视化展示
5. **数据导出**：支持导出JSON格式的结果文件

## 🔧 自定义说明

如需修改数据源，编辑 `src/views/componets/mock.ts` 文件即可。

## 📝 注意事项

-   所有的"加载"和"训练"过程都是模拟的（使用setTimeout）
-   实际项目中需要替换为真实的API调用
-   可视化组件依赖D3.js，确保已安装相关依赖
